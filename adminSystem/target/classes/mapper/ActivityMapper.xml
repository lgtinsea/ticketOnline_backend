<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tjCourse.softwareEngineering.backend.dao.mapper.ActivityMapper">
    <select id="getActivityInfo" resultType="com.tjCourse.softwareEngineering.backend.dto.ReturnActivitiesDTO">
        select activity.name, count(*)
        from activity join appointment a on activity.ID = a.activityID
        group by activity.name
    </select>

    <select id="getDepartActivityInfo" parameterType="Integer" resultType="com.tjCourse.softwareEngineering.backend.dto.ReturnActivitiesDTO">
        select activity.name, count(*)
        from activity join appointment a on activity.ID = a.activityID
        where activity.organizationID = #{organization_ID}
        group by activity.name
    </select>

    <select id="getActivityCover" resultType="com.tjCourse.softwareEngineering.backend.dto.ReturnActivitiesCoverDTO">
        select ID,name,poster
        from activity
    </select>

    <select id="getDepartActivityCover" parameterType="Integer" resultType="com.tjCourse.softwareEngineering.backend.dto.ReturnActivitiesCoverDTO">
        select ID,name,poster
        from activity
        where organizationID = #{organization_ID}
    </select>

    <select id="getActivityReportHead" resultType="com.tjCourse.softwareEngineering.backend.pojo.ReturnReportDTOHead">
        select ID,name,activity.peopleAmount
        from activity
    </select>
</mapper>